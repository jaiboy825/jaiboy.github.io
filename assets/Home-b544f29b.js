import{E as Bt,V as G,M as J,T as ee,Q as qe,S as Je,a as H,P as et,R as zt,b as jt,c as Ut,W as Vt,D as tt,B as Gt,d as Yt,e as Xt,f as $t,g as Kt}from"./index-8139de19.js";import{d as Wt,r as Zt,o as Qt,a as qt,c as Jt,b as ge,e as en,g as tn}from"./index-ad70fc23.js";var ae=Object.freeze({Linear:Object.freeze({None:function(t){return t},In:function(t){return this.None(t)},Out:function(t){return this.None(t)},InOut:function(t){return this.None(t)}}),Quadratic:Object.freeze({In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}}),Cubic:Object.freeze({In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}}),Quartic:Object.freeze({In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}}),Quintic:Object.freeze({In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}}),Sinusoidal:Object.freeze({In:function(t){return 1-Math.sin((1-t)*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return .5*(1-Math.sin(Math.PI*(.5-t)))}}),Exponential:Object.freeze({In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}}),Circular:Object.freeze({In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}}),Elastic:Object.freeze({In:function(t){return t===0?0:t===1?1:-Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)},Out:function(t){return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t-.1)*5*Math.PI)+1},InOut:function(t){return t===0?0:t===1?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin((t-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(t){var e=1.70158;return t===1?1:t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return t===0?0:--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}}),Bounce:Object.freeze({In:function(t){return 1-ae.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?ae.Bounce.In(t*2)*.5:ae.Bounce.Out(t*2-1)*.5+.5}}),generatePow:function(t){return t===void 0&&(t=4),t=t<Number.EPSILON?Number.EPSILON:t,t=t>1e4?1e4:t,{In:function(e){return Math.pow(e,t)},Out:function(e){return 1-Math.pow(1-e,t)},InOut:function(e){return e<.5?Math.pow(e*2,t)/2:(1-Math.pow(2-e*2,t))/2+.5}}}}),de;typeof self>"u"&&typeof process<"u"&&process.hrtime?de=function(){var t=process.hrtime();return t[0]*1e3+t[1]/1e6}:typeof self<"u"&&self.performance!==void 0&&self.performance.now!==void 0?de=self.performance.now.bind(self.performance):Date.now!==void 0?de=Date.now:de=function(){return new Date().getTime()};var ie=de,pt=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(i){return e._tweens[i]})},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},t.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},t.prototype.update=function(e,i){e===void 0&&(e=ie()),i===void 0&&(i=!1);var n=Object.keys(this._tweens);if(n.length===0)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var o=0;o<n.length;o++){var a=this._tweens[n[o]],l=!i;a&&a.update(e,l)===!1&&!i&&delete this._tweens[n[o]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),W={Linear:function(t,e){var i=t.length-1,n=i*e,o=Math.floor(n),a=W.Utils.Linear;return e<0?a(t[0],t[1],n):e>1?a(t[i],t[i-1],i-n):a(t[o],t[o+1>i?i:o+1],n-o)},Bezier:function(t,e){for(var i=0,n=t.length-1,o=Math.pow,a=W.Utils.Bernstein,l=0;l<=n;l++)i+=o(1-e,n-l)*o(e,l)*t[l]*a(n,l);return i},CatmullRom:function(t,e){var i=t.length-1,n=i*e,o=Math.floor(n),a=W.Utils.CatmullRom;return t[0]===t[i]?(e<0&&(o=Math.floor(n=i*(1+e))),a(t[(o-1+i)%i],t[o],t[(o+1)%i],t[(o+2)%i],n-o)):e<0?t[0]-(a(t[0],t[0],t[1],t[1],-n)-t[0]):e>1?t[i]-(a(t[i],t[i],t[i-1],t[i-1],n-i)-t[i]):a(t[o?o-1:0],t[o],t[i<o+1?i:o+1],t[i<o+2?i:o+2],n-o)},Utils:{Linear:function(t,e,i){return(e-t)*i+t},Bernstein:function(t,e){var i=W.Utils.Factorial;return i(t)/i(e)/i(t-e)},Factorial:function(){var t=[1];return function(e){var i=1;if(t[e])return t[e];for(var n=e;n>1;n--)i*=n;return t[e]=i,i}}(),CatmullRom:function(t,e,i,n,o){var a=(i-t)*.5,l=(n-e)*.5,d=o*o,c=o*d;return(2*e-2*i+a+l)*c+(-3*e+3*i-2*a-l)*d+a*o+e}}},De=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),Oe=new pt,nn=function(){function t(e,i){i===void 0&&(i=Oe),this._object=e,this._group=i,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=ae.Linear.None,this._interpolationFunction=W.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=De.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(e,i){return this._valuesEnd=Object.create(e),i!==void 0&&(this._duration=i),this},t.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e,this},t.prototype.start=function(e,i){if(e===void 0&&(e=ie()),i===void 0&&(i=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var n in this._valuesStartRepeat)this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,i),this},t.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},t.prototype._setupProperties=function(e,i,n,o,a){for(var l in n){var d=e[l],c=Array.isArray(d),h=c?"array":typeof d,m=!c&&Array.isArray(n[l]);if(!(h==="undefined"||h==="function")){if(m){var f=n[l];if(f.length===0)continue;f=f.map(this._handleRelativeValue.bind(this,d)),i[l]===void 0&&(n[l]=[d].concat(f))}if((h==="object"||c)&&d&&!m){i[l]=c?[]:{};for(var b in d)i[l][b]=d[b];o[l]=c?[]:{},this._setupProperties(d,i[l],n[l],o[l],a)}else(typeof i[l]>"u"||a)&&(i[l]=d),c||(i[l]*=1),m?o[l]=n[l].slice().reverse():o[l]=i[l]||0}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(e){return e===void 0&&(e=ie()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},t.prototype.resume=function(e){return e===void 0&&(e=ie()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},t.prototype.stopChainedTweens=function(){for(var e=0,i=this._chainedTweens.length;e<i;e++)this._chainedTweens[e].stop();return this},t.prototype.group=function(e){return e===void 0&&(e=Oe),this._group=e,this},t.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},t.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},t.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},t.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},t.prototype.easing=function(e){return e===void 0&&(e=ae.Linear.None),this._easingFunction=e,this},t.prototype.interpolation=function(e){return e===void 0&&(e=W.Linear),this._interpolationFunction=e,this},t.prototype.chain=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return this._chainedTweens=e,this},t.prototype.onStart=function(e){return this._onStartCallback=e,this},t.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},t.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},t.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},t.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},t.prototype.onStop=function(e){return this._onStopCallback=e,this},t.prototype.update=function(e,i){if(e===void 0&&(e=ie()),i===void 0&&(i=!0),this._isPaused)return!0;var n,o,a=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>a)return!1;i&&this.start(e,!0)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0),o=(e-this._startTime)/this._duration,o=this._duration===0||o>1?1:o;var l=this._easingFunction(o);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,l),this._onUpdateCallback&&this._onUpdateCallback(this._object,o),o===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(n in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[n]=="string"&&(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var d=0,c=this._chainedTweens.length;d<c;d++)this._chainedTweens[d].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(e,i,n,o){for(var a in n)if(i[a]!==void 0){var l=i[a]||0,d=n[a],c=Array.isArray(e[a]),h=Array.isArray(d),m=!c&&h;m?e[a]=this._interpolationFunction(d,o):typeof d=="object"&&d?this._updateProperties(e[a],l,d,o):(d=this._handleRelativeValue(l,d),typeof d=="number"&&(e[a]=l+(d-l)*o))}},t.prototype._handleRelativeValue=function(e,i){return typeof i!="string"?i:i.charAt(0)==="+"||i.charAt(0)==="-"?e+parseFloat(i):parseFloat(i)},t.prototype._swapEndStartRepeatValues=function(e){var i=this._valuesStartRepeat[e],n=this._valuesEnd[e];typeof n=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(n):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=i},t}(),on="19.0.0",an=De.nextId,z=Oe,rn=z.getAll.bind(z),sn=z.removeAll.bind(z),ln=z.add.bind(z),dn=z.remove.bind(z),un=z.update.bind(z),Ce={Easing:ae,Group:pt,Interpolation:W,now:ie,Sequence:De,nextId:an,Tween:nn,VERSION:on,getAll:rn,removeAll:sn,add:ln,remove:dn,update:un};const nt={type:"change"},Se={type:"start"},it={type:"end"};class cn extends Bt{constructor(e,i){super(),this.object=e,this.domElement=i,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new G,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:J.ROTATE,MIDDLE:J.DOLLY,RIGHT:J.PAN},this.touches={ONE:ee.ROTATE,TWO:ee.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return d.phi},this.getAzimuthalAngle=function(){return d.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(r){r.addEventListener("keydown",Ee),this._domElementKeyEvents=r},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",Ee),this._domElementKeyEvents=null},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(nt),n.update(),a=o.NONE},this.update=function(){const r=new G,p=new qe().setFromUnitVectors(e.up,new G(0,1,0)),O=p.clone().invert(),T=new G,N=new qe,q=2*Math.PI;return function(){const Qe=n.object.position;r.copy(Qe).sub(n.target),r.applyQuaternion(p),d.setFromVector3(r),n.autoRotate&&a===o.NONE&&C(K()),n.enableDamping?(d.theta+=c.theta*n.dampingFactor,d.phi+=c.phi*n.dampingFactor):(d.theta+=c.theta,d.phi+=c.phi);let U=n.minAzimuthAngle,V=n.maxAzimuthAngle;return isFinite(U)&&isFinite(V)&&(U<-Math.PI?U+=q:U>Math.PI&&(U-=q),V<-Math.PI?V+=q:V>Math.PI&&(V-=q),U<=V?d.theta=Math.max(U,Math.min(V,d.theta)):d.theta=d.theta>(U+V)/2?Math.max(U,d.theta):Math.min(V,d.theta)),d.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,d.phi)),d.makeSafe(),d.radius*=h,d.radius=Math.max(n.minDistance,Math.min(n.maxDistance,d.radius)),n.enableDamping===!0?n.target.addScaledVector(m,n.dampingFactor):n.target.add(m),r.setFromSpherical(d),r.applyQuaternion(O),Qe.copy(n.target).add(r),n.object.lookAt(n.target),n.enableDamping===!0?(c.theta*=1-n.dampingFactor,c.phi*=1-n.dampingFactor,m.multiplyScalar(1-n.dampingFactor)):(c.set(0,0,0),m.set(0,0,0)),h=1,f||T.distanceToSquared(n.object.position)>l||8*(1-N.dot(n.object.quaternion))>l?(n.dispatchEvent(nt),T.copy(n.object.position),N.copy(n.object.quaternion),f=!1,!0):!1}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",We),n.domElement.removeEventListener("pointerdown",$e),n.domElement.removeEventListener("pointercancel",re),n.domElement.removeEventListener("wheel",Ke),n.domElement.removeEventListener("pointermove",we),n.domElement.removeEventListener("pointerup",re),n._domElementKeyEvents!==null&&(n._domElementKeyEvents.removeEventListener("keydown",Ee),n._domElementKeyEvents=null)};const n=this,o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let a=o.NONE;const l=1e-6,d=new Je,c=new Je;let h=1;const m=new G;let f=!1;const b=new H,v=new H,y=new H,g=new H,w=new H,A=new H,R=new H,P=new H,L=new H,_=[],x={};function K(){return 2*Math.PI/60/60*n.autoRotateSpeed}function S(){return Math.pow(.95,n.zoomSpeed)}function C(r){c.theta-=r}function D(r){c.phi-=r}const Q=function(){const r=new G;return function(O,T){r.setFromMatrixColumn(T,0),r.multiplyScalar(-O),m.add(r)}}(),j=function(){const r=new G;return function(O,T){n.screenSpacePanning===!0?r.setFromMatrixColumn(T,1):(r.setFromMatrixColumn(T,0),r.crossVectors(n.object.up,r)),r.multiplyScalar(O),m.add(r)}}(),M=function(){const r=new G;return function(O,T){const N=n.domElement;if(n.object.isPerspectiveCamera){const q=n.object.position;r.copy(q).sub(n.target);let _e=r.length();_e*=Math.tan(n.object.fov/2*Math.PI/180),Q(2*O*_e/N.clientHeight,n.object.matrix),j(2*T*_e/N.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(Q(O*(n.object.right-n.object.left)/n.object.zoom/N.clientWidth,n.object.matrix),j(T*(n.object.top-n.object.bottom)/n.object.zoom/N.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function ye(r){n.object.isPerspectiveCamera?h/=r:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*r)),n.object.updateProjectionMatrix(),f=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function He(r){n.object.isPerspectiveCamera?h*=r:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/r)),n.object.updateProjectionMatrix(),f=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function Be(r){b.set(r.clientX,r.clientY)}function xt(r){R.set(r.clientX,r.clientY)}function ze(r){g.set(r.clientX,r.clientY)}function Ct(r){v.set(r.clientX,r.clientY),y.subVectors(v,b).multiplyScalar(n.rotateSpeed);const p=n.domElement;C(2*Math.PI*y.x/p.clientHeight),D(2*Math.PI*y.y/p.clientHeight),b.copy(v),n.update()}function St(r){P.set(r.clientX,r.clientY),L.subVectors(P,R),L.y>0?ye(S()):L.y<0&&He(S()),R.copy(P),n.update()}function At(r){w.set(r.clientX,r.clientY),A.subVectors(w,g).multiplyScalar(n.panSpeed),M(A.x,A.y),g.copy(w),n.update()}function Ot(r){r.deltaY<0?He(S()):r.deltaY>0&&ye(S()),n.update()}function kt(r){let p=!1;switch(r.code){case n.keys.UP:r.ctrlKey||r.metaKey||r.shiftKey?D(2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):M(0,n.keyPanSpeed),p=!0;break;case n.keys.BOTTOM:r.ctrlKey||r.metaKey||r.shiftKey?D(-2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):M(0,-n.keyPanSpeed),p=!0;break;case n.keys.LEFT:r.ctrlKey||r.metaKey||r.shiftKey?C(2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):M(n.keyPanSpeed,0),p=!0;break;case n.keys.RIGHT:r.ctrlKey||r.metaKey||r.shiftKey?C(-2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):M(-n.keyPanSpeed,0),p=!0;break}p&&(r.preventDefault(),n.update())}function je(){if(_.length===1)b.set(_[0].pageX,_[0].pageY);else{const r=.5*(_[0].pageX+_[1].pageX),p=.5*(_[0].pageY+_[1].pageY);b.set(r,p)}}function Ue(){if(_.length===1)g.set(_[0].pageX,_[0].pageY);else{const r=.5*(_[0].pageX+_[1].pageX),p=.5*(_[0].pageY+_[1].pageY);g.set(r,p)}}function Ve(){const r=_[0].pageX-_[1].pageX,p=_[0].pageY-_[1].pageY,O=Math.sqrt(r*r+p*p);R.set(0,O)}function Tt(){n.enableZoom&&Ve(),n.enablePan&&Ue()}function Pt(){n.enableZoom&&Ve(),n.enableRotate&&je()}function Ge(r){if(_.length==1)v.set(r.pageX,r.pageY);else{const O=xe(r),T=.5*(r.pageX+O.x),N=.5*(r.pageY+O.y);v.set(T,N)}y.subVectors(v,b).multiplyScalar(n.rotateSpeed);const p=n.domElement;C(2*Math.PI*y.x/p.clientHeight),D(2*Math.PI*y.y/p.clientHeight),b.copy(v)}function Ye(r){if(_.length===1)w.set(r.pageX,r.pageY);else{const p=xe(r),O=.5*(r.pageX+p.x),T=.5*(r.pageY+p.y);w.set(O,T)}A.subVectors(w,g).multiplyScalar(n.panSpeed),M(A.x,A.y),g.copy(w)}function Xe(r){const p=xe(r),O=r.pageX-p.x,T=r.pageY-p.y,N=Math.sqrt(O*O+T*T);P.set(0,N),L.set(0,Math.pow(P.y/R.y,n.zoomSpeed)),ye(L.y),R.copy(P)}function Rt(r){n.enableZoom&&Xe(r),n.enablePan&&Ye(r)}function Lt(r){n.enableZoom&&Xe(r),n.enableRotate&&Ge(r)}function $e(r){n.enabled!==!1&&(_.length===0&&(n.domElement.setPointerCapture(r.pointerId),n.domElement.addEventListener("pointermove",we),n.domElement.addEventListener("pointerup",re)),Ft(r),r.pointerType==="touch"?Nt(r):Mt(r))}function we(r){n.enabled!==!1&&(r.pointerType==="touch"?It(r):Dt(r))}function re(r){Ht(r),_.length===0&&(n.domElement.releasePointerCapture(r.pointerId),n.domElement.removeEventListener("pointermove",we),n.domElement.removeEventListener("pointerup",re)),n.dispatchEvent(it),a=o.NONE}function Mt(r){let p;switch(r.button){case 0:p=n.mouseButtons.LEFT;break;case 1:p=n.mouseButtons.MIDDLE;break;case 2:p=n.mouseButtons.RIGHT;break;default:p=-1}switch(p){case J.DOLLY:if(n.enableZoom===!1)return;xt(r),a=o.DOLLY;break;case J.ROTATE:if(r.ctrlKey||r.metaKey||r.shiftKey){if(n.enablePan===!1)return;ze(r),a=o.PAN}else{if(n.enableRotate===!1)return;Be(r),a=o.ROTATE}break;case J.PAN:if(r.ctrlKey||r.metaKey||r.shiftKey){if(n.enableRotate===!1)return;Be(r),a=o.ROTATE}else{if(n.enablePan===!1)return;ze(r),a=o.PAN}break;default:a=o.NONE}a!==o.NONE&&n.dispatchEvent(Se)}function Dt(r){switch(a){case o.ROTATE:if(n.enableRotate===!1)return;Ct(r);break;case o.DOLLY:if(n.enableZoom===!1)return;St(r);break;case o.PAN:if(n.enablePan===!1)return;At(r);break}}function Ke(r){n.enabled===!1||n.enableZoom===!1||a!==o.NONE||(r.preventDefault(),n.dispatchEvent(Se),Ot(r),n.dispatchEvent(it))}function Ee(r){n.enabled===!1||n.enablePan===!1||kt(r)}function Nt(r){switch(Ze(r),_.length){case 1:switch(n.touches.ONE){case ee.ROTATE:if(n.enableRotate===!1)return;je(),a=o.TOUCH_ROTATE;break;case ee.PAN:if(n.enablePan===!1)return;Ue(),a=o.TOUCH_PAN;break;default:a=o.NONE}break;case 2:switch(n.touches.TWO){case ee.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;Tt(),a=o.TOUCH_DOLLY_PAN;break;case ee.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Pt(),a=o.TOUCH_DOLLY_ROTATE;break;default:a=o.NONE}break;default:a=o.NONE}a!==o.NONE&&n.dispatchEvent(Se)}function It(r){switch(Ze(r),a){case o.TOUCH_ROTATE:if(n.enableRotate===!1)return;Ge(r),n.update();break;case o.TOUCH_PAN:if(n.enablePan===!1)return;Ye(r),n.update();break;case o.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;Rt(r),n.update();break;case o.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Lt(r),n.update();break;default:a=o.NONE}}function We(r){n.enabled!==!1&&r.preventDefault()}function Ft(r){_.push(r)}function Ht(r){delete x[r.pointerId];for(let p=0;p<_.length;p++)if(_[p].pointerId==r.pointerId){_.splice(p,1);return}}function Ze(r){let p=x[r.pointerId];p===void 0&&(p=new H,x[r.pointerId]=p),p.set(r.pageX,r.pageY)}function xe(r){const p=r.pointerId===_[0].pointerId?_[1]:_[0];return x[p.pointerId]}n.domElement.addEventListener("contextmenu",We),n.domElement.addEventListener("pointerdown",$e),n.domElement.addEventListener("pointercancel",re),n.domElement.addEventListener("wheel",Ke,{passive:!1}),this.update()}}function fn(t){if(t&&!(typeof window>"u")){var e=document.createElement("style");return e.setAttribute("type","text/css"),e.innerHTML=t,document.head.appendChild(e),t}}function oe(t,e){var i=t.__state.conversionName.toString(),n=Math.round(t.r),o=Math.round(t.g),a=Math.round(t.b),l=t.a,d=Math.round(t.h),c=t.s.toFixed(1),h=t.v.toFixed(1);if(e||i==="THREE_CHAR_HEX"||i==="SIX_CHAR_HEX"){for(var m=t.hex.toString(16);m.length<6;)m="0"+m;return"#"+m}else{if(i==="CSS_RGB")return"rgb("+n+","+o+","+a+")";if(i==="CSS_RGBA")return"rgba("+n+","+o+","+a+","+l+")";if(i==="HEX")return"0x"+t.hex.toString(16);if(i==="RGB_ARRAY")return"["+n+","+o+","+a+"]";if(i==="RGBA_ARRAY")return"["+n+","+o+","+a+","+l+"]";if(i==="RGB_OBJ")return"{r:"+n+",g:"+o+",b:"+a+"}";if(i==="RGBA_OBJ")return"{r:"+n+",g:"+o+",b:"+a+",a:"+l+"}";if(i==="HSV_OBJ")return"{h:"+d+",s:"+c+",v:"+h+"}";if(i==="HSVA_OBJ")return"{h:"+d+",s:"+c+",v:"+h+",a:"+l+"}"}return"unknown format"}var ot=Array.prototype.forEach,se=Array.prototype.slice,u={BREAK:{},extend:function(e){return this.each(se.call(arguments,1),function(i){var n=this.isObject(i)?Object.keys(i):[];n.forEach(function(o){this.isUndefined(i[o])||(e[o]=i[o])}.bind(this))},this),e},defaults:function(e){return this.each(se.call(arguments,1),function(i){var n=this.isObject(i)?Object.keys(i):[];n.forEach(function(o){this.isUndefined(e[o])&&(e[o]=i[o])}.bind(this))},this),e},compose:function(){var e=se.call(arguments);return function(){for(var i=se.call(arguments),n=e.length-1;n>=0;n--)i=[e[n].apply(this,i)];return i[0]}},each:function(e,i,n){if(e){if(ot&&e.forEach&&e.forEach===ot)e.forEach(i,n);else if(e.length===e.length+0){var o=void 0,a=void 0;for(o=0,a=e.length;o<a;o++)if(o in e&&i.call(n,e[o],o)===this.BREAK)return}else for(var l in e)if(i.call(n,e[l],l)===this.BREAK)return}},defer:function(e){setTimeout(e,0)},debounce:function(e,i,n){var o=void 0;return function(){var a=this,l=arguments;function d(){o=null,n||e.apply(a,l)}var c=n||!o;clearTimeout(o),o=setTimeout(d,i),c&&e.apply(a,l)}},toArray:function(e){return e.toArray?e.toArray():se.call(e)},isUndefined:function(e){return e===void 0},isNull:function(e){return e===null},isNaN:function(t){function e(i){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return isNaN(t)}),isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return e===!1||e===!0},isFunction:function(e){return e instanceof Function}},hn=[{litmus:u.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var i=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return i===null?!1:{space:"HEX",hex:parseInt("0x"+i[1].toString()+i[1].toString()+i[2].toString()+i[2].toString()+i[3].toString()+i[3].toString(),0)}},write:oe},SIX_CHAR_HEX:{read:function(e){var i=e.match(/^#([A-F0-9]{6})$/i);return i===null?!1:{space:"HEX",hex:parseInt("0x"+i[1].toString(),0)}},write:oe},CSS_RGB:{read:function(e){var i=e.match(/^rgb\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return i===null?!1:{space:"RGB",r:parseFloat(i[1]),g:parseFloat(i[2]),b:parseFloat(i[3])}},write:oe},CSS_RGBA:{read:function(e){var i=e.match(/^rgba\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return i===null?!1:{space:"RGB",r:parseFloat(i[1]),g:parseFloat(i[2]),b:parseFloat(i[3]),a:parseFloat(i[4])}},write:oe}}},{litmus:u.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:u.isArray,conversions:{RGB_ARRAY:{read:function(e){return e.length!==3?!1:{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return e.length!==4?!1:{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:u.isObject,conversions:{RGBA_OBJ:{read:function(e){return u.isNumber(e.r)&&u.isNumber(e.g)&&u.isNumber(e.b)&&u.isNumber(e.a)?{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}:!1},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return u.isNumber(e.r)&&u.isNumber(e.g)&&u.isNumber(e.b)?{space:"RGB",r:e.r,g:e.g,b:e.b}:!1},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return u.isNumber(e.h)&&u.isNumber(e.s)&&u.isNumber(e.v)&&u.isNumber(e.a)?{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}:!1},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return u.isNumber(e.h)&&u.isNumber(e.s)&&u.isNumber(e.v)?{space:"HSV",h:e.h,s:e.s,v:e.v}:!1},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],le=void 0,pe=void 0,ke=function(){pe=!1;var e=arguments.length>1?u.toArray(arguments):arguments[0];return u.each(hn,function(i){if(i.litmus(e))return u.each(i.conversions,function(n,o){if(le=n.read(e),pe===!1&&le!==!1)return pe=le,le.conversionName=o,le.conversion=n,u.BREAK}),u.BREAK}),pe},at=void 0,be={hsv_to_rgb:function(e,i,n){var o=Math.floor(e/60)%6,a=e/60-Math.floor(e/60),l=n*(1-i),d=n*(1-a*i),c=n*(1-(1-a)*i),h=[[n,c,l],[d,n,l],[l,n,c],[l,d,n],[c,l,n],[n,l,d]][o];return{r:h[0]*255,g:h[1]*255,b:h[2]*255}},rgb_to_hsv:function(e,i,n){var o=Math.min(e,i,n),a=Math.max(e,i,n),l=a-o,d=void 0,c=void 0;if(a!==0)c=l/a;else return{h:NaN,s:0,v:0};return e===a?d=(i-n)/l:i===a?d=2+(n-e)/l:d=4+(e-i)/l,d/=6,d<0&&(d+=1),{h:d*360,s:c,v:a/255}},rgb_to_hex:function(e,i,n){var o=this.hex_with_component(0,2,e);return o=this.hex_with_component(o,1,i),o=this.hex_with_component(o,0,n),o},component_from_hex:function(e,i){return e>>i*8&255},hex_with_component:function(e,i,n){return n<<(at=i*8)|e&~(255<<at)}},_n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},F=function(){function t(e,i){for(var n=0;n<i.length;n++){var o=i[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Y=function t(e,i,n){e===null&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(o===void 0){var a=Object.getPrototypeOf(e);return a===null?void 0:t(a,i,n)}else{if("value"in o)return o.value;var l=o.get;return l===void 0?void 0:l.call(n)}},X=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},$=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},k=function(){function t(){if(I(this,t),this.__state=ke.apply(this,arguments),this.__state===!1)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return F(t,[{key:"toString",value:function(){return oe(this)}},{key:"toHexString",value:function(){return oe(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),t}();function Ne(t,e,i){Object.defineProperty(t,e,{get:function(){return this.__state.space==="RGB"?this.__state[e]:(k.recalculateRGB(this,e,i),this.__state[e])},set:function(o){this.__state.space!=="RGB"&&(k.recalculateRGB(this,e,i),this.__state.space="RGB"),this.__state[e]=o}})}function Ie(t,e){Object.defineProperty(t,e,{get:function(){return this.__state.space==="HSV"?this.__state[e]:(k.recalculateHSV(this),this.__state[e])},set:function(n){this.__state.space!=="HSV"&&(k.recalculateHSV(this),this.__state.space="HSV"),this.__state[e]=n}})}k.recalculateRGB=function(t,e,i){if(t.__state.space==="HEX")t.__state[e]=be.component_from_hex(t.__state.hex,i);else if(t.__state.space==="HSV")u.extend(t.__state,be.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v));else throw new Error("Corrupted color state")};k.recalculateHSV=function(t){var e=be.rgb_to_hsv(t.r,t.g,t.b);u.extend(t.__state,{s:e.s,v:e.v}),u.isNaN(e.h)?u.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=e.h};k.COMPONENTS=["r","g","b","h","s","v","hex","a"];Ne(k.prototype,"r",2);Ne(k.prototype,"g",1);Ne(k.prototype,"b",0);Ie(k.prototype,"h");Ie(k.prototype,"s");Ie(k.prototype,"v");Object.defineProperty(k.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}});Object.defineProperty(k.prototype,"hex",{get:function(){return this.__state.space!=="HEX"&&(this.__state.hex=be.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}});var Z=function(){function t(e,i){I(this,t),this.initialValue=e[i],this.domElement=document.createElement("div"),this.object=e,this.property=i,this.__onChange=void 0,this.__onFinishChange=void 0}return F(t,[{key:"onChange",value:function(i){return this.__onChange=i,this}},{key:"onFinishChange",value:function(i){return this.__onFinishChange=i,this}},{key:"setValue",value:function(i){return this.object[this.property]=i,this.__onChange&&this.__onChange.call(this,i),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),t}(),pn={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},mt={};u.each(pn,function(t,e){u.each(t,function(i){mt[i]=e})});var mn=/(\d+(\.\d+)?)px/;function B(t){if(t==="0"||u.isUndefined(t))return 0;var e=t.match(mn);return u.isNull(e)?0:parseFloat(e[1])}var s={makeSelectable:function(e,i){e===void 0||e.style===void 0||(e.onselectstart=i?function(){return!1}:function(){},e.style.MozUserSelect=i?"auto":"none",e.style.KhtmlUserSelect=i?"auto":"none",e.unselectable=i?"on":"off")},makeFullscreen:function(e,i,n){var o=n,a=i;u.isUndefined(a)&&(a=!0),u.isUndefined(o)&&(o=!0),e.style.position="absolute",a&&(e.style.left=0,e.style.right=0),o&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,i,n,o){var a=n||{},l=mt[i];if(!l)throw new Error("Event type "+i+" not supported.");var d=document.createEvent(l);switch(l){case"MouseEvents":{var c=a.x||a.clientX||0,h=a.y||a.clientY||0;d.initMouseEvent(i,a.bubbles||!1,a.cancelable||!0,window,a.clickCount||1,0,0,c,h,!1,!1,!1,!1,0,null);break}case"KeyboardEvents":{var m=d.initKeyboardEvent||d.initKeyEvent;u.defaults(a,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),m(i,a.bubbles||!1,a.cancelable,window,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.keyCode,a.charCode);break}default:{d.initEvent(i,a.bubbles||!1,a.cancelable||!0);break}}u.defaults(d,o),e.dispatchEvent(d)},bind:function(e,i,n,o){var a=o||!1;return e.addEventListener?e.addEventListener(i,n,a):e.attachEvent&&e.attachEvent("on"+i,n),s},unbind:function(e,i,n,o){var a=o||!1;return e.removeEventListener?e.removeEventListener(i,n,a):e.detachEvent&&e.detachEvent("on"+i,n),s},addClass:function(e,i){if(e.className===void 0)e.className=i;else if(e.className!==i){var n=e.className.split(/ +/);n.indexOf(i)===-1&&(n.push(i),e.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return s},removeClass:function(e,i){if(i)if(e.className===i)e.removeAttribute("class");else{var n=e.className.split(/ +/),o=n.indexOf(i);o!==-1&&(n.splice(o,1),e.className=n.join(" "))}else e.className=void 0;return s},hasClass:function(e,i){return new RegExp("(?:^|\\s+)"+i+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var i=getComputedStyle(e);return B(i["border-left-width"])+B(i["border-right-width"])+B(i["padding-left"])+B(i["padding-right"])+B(i.width)},getHeight:function(e){var i=getComputedStyle(e);return B(i["border-top-width"])+B(i["border-bottom-width"])+B(i["padding-top"])+B(i["padding-bottom"])+B(i.height)},getOffset:function(e){var i=e,n={left:0,top:0};if(i.offsetParent)do n.left+=i.offsetLeft,n.top+=i.offsetTop,i=i.offsetParent;while(i);return n},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}},gt=function(t){X(e,t);function e(i,n){I(this,e);var o=$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n)),a=o;o.__prev=o.getValue(),o.__checkbox=document.createElement("input"),o.__checkbox.setAttribute("type","checkbox");function l(){a.setValue(!a.__prev)}return s.bind(o.__checkbox,"change",l,!1),o.domElement.appendChild(o.__checkbox),o.updateDisplay(),o}return F(e,[{key:"setValue",value:function(n){var o=Y(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,n);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),o}},{key:"updateDisplay",value:function(){return this.getValue()===!0?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),Y(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(Z),gn=function(t){X(e,t);function e(i,n,o){I(this,e);var a=$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n)),l=o,d=a;if(a.__select=document.createElement("select"),u.isArray(l)){var c={};u.each(l,function(h){c[h]=h}),l=c}return u.each(l,function(h,m){var f=document.createElement("option");f.innerHTML=m,f.setAttribute("value",h),d.__select.appendChild(f)}),a.updateDisplay(),s.bind(a.__select,"change",function(){var h=this.options[this.selectedIndex].value;d.setValue(h)}),a.domElement.appendChild(a.__select),a}return F(e,[{key:"setValue",value:function(n){var o=Y(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,n);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),o}},{key:"updateDisplay",value:function(){return s.isActive(this.__select)?this:(this.__select.value=this.getValue(),Y(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this))}}]),e}(Z),bn=function(t){X(e,t);function e(i,n){I(this,e);var o=$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n)),a=o;function l(){a.setValue(a.__input.value)}function d(){a.__onFinishChange&&a.__onFinishChange.call(a,a.getValue())}return o.__input=document.createElement("input"),o.__input.setAttribute("type","text"),s.bind(o.__input,"keyup",l),s.bind(o.__input,"change",l),s.bind(o.__input,"blur",d),s.bind(o.__input,"keydown",function(c){c.keyCode===13&&this.blur()}),o.updateDisplay(),o.domElement.appendChild(o.__input),o}return F(e,[{key:"updateDisplay",value:function(){return s.isActive(this.__input)||(this.__input.value=this.getValue()),Y(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(Z);function rt(t){var e=t.toString();return e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0}var bt=function(t){X(e,t);function e(i,n,o){I(this,e);var a=$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n)),l=o||{};return a.__min=l.min,a.__max=l.max,a.__step=l.step,u.isUndefined(a.__step)?a.initialValue===0?a.__impliedStep=1:a.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(a.initialValue))/Math.LN10))/10:a.__impliedStep=a.__step,a.__precision=rt(a.__impliedStep),a}return F(e,[{key:"setValue",value:function(n){var o=n;return this.__min!==void 0&&o<this.__min?o=this.__min:this.__max!==void 0&&o>this.__max&&(o=this.__max),this.__step!==void 0&&o%this.__step!==0&&(o=Math.round(o/this.__step)*this.__step),Y(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,o)}},{key:"min",value:function(n){return this.__min=n,this}},{key:"max",value:function(n){return this.__max=n,this}},{key:"step",value:function(n){return this.__step=n,this.__impliedStep=n,this.__precision=rt(n),this}}]),e}(Z);function vn(t,e){var i=Math.pow(10,e);return Math.round(t*i)/i}var ve=function(t){X(e,t);function e(i,n,o){I(this,e);var a=$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n,o));a.__truncationSuspended=!1;var l=a,d=void 0;function c(){var y=parseFloat(l.__input.value);u.isNaN(y)||l.setValue(y)}function h(){l.__onFinishChange&&l.__onFinishChange.call(l,l.getValue())}function m(){h()}function f(y){var g=d-y.clientY;l.setValue(l.getValue()+g*l.__impliedStep),d=y.clientY}function b(){s.unbind(window,"mousemove",f),s.unbind(window,"mouseup",b),h()}function v(y){s.bind(window,"mousemove",f),s.bind(window,"mouseup",b),d=y.clientY}return a.__input=document.createElement("input"),a.__input.setAttribute("type","text"),s.bind(a.__input,"change",c),s.bind(a.__input,"blur",m),s.bind(a.__input,"mousedown",v),s.bind(a.__input,"keydown",function(y){y.keyCode===13&&(l.__truncationSuspended=!0,this.blur(),l.__truncationSuspended=!1,h())}),a.updateDisplay(),a.domElement.appendChild(a.__input),a}return F(e,[{key:"updateDisplay",value:function(){return this.__input.value=this.__truncationSuspended?this.getValue():vn(this.getValue(),this.__precision),Y(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(bt);function st(t,e,i,n,o){return n+(o-n)*((t-e)/(i-e))}var Te=function(t){X(e,t);function e(i,n,o,a,l){I(this,e);var d=$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n,{min:o,max:a,step:l})),c=d;d.__background=document.createElement("div"),d.__foreground=document.createElement("div"),s.bind(d.__background,"mousedown",h),s.bind(d.__background,"touchstart",b),s.addClass(d.__background,"slider"),s.addClass(d.__foreground,"slider-fg");function h(g){document.activeElement.blur(),s.bind(window,"mousemove",m),s.bind(window,"mouseup",f),m(g)}function m(g){g.preventDefault();var w=c.__background.getBoundingClientRect();return c.setValue(st(g.clientX,w.left,w.right,c.__min,c.__max)),!1}function f(){s.unbind(window,"mousemove",m),s.unbind(window,"mouseup",f),c.__onFinishChange&&c.__onFinishChange.call(c,c.getValue())}function b(g){g.touches.length===1&&(s.bind(window,"touchmove",v),s.bind(window,"touchend",y),v(g))}function v(g){var w=g.touches[0].clientX,A=c.__background.getBoundingClientRect();c.setValue(st(w,A.left,A.right,c.__min,c.__max))}function y(){s.unbind(window,"touchmove",v),s.unbind(window,"touchend",y),c.__onFinishChange&&c.__onFinishChange.call(c,c.getValue())}return d.updateDisplay(),d.__background.appendChild(d.__foreground),d.domElement.appendChild(d.__background),d}return F(e,[{key:"updateDisplay",value:function(){var n=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=n*100+"%",Y(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(bt),vt=function(t){X(e,t);function e(i,n,o){I(this,e);var a=$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n)),l=a;return a.__button=document.createElement("div"),a.__button.innerHTML=o===void 0?"Fire":o,s.bind(a.__button,"click",function(d){return d.preventDefault(),l.fire(),!1}),s.addClass(a.__button,"button"),a.domElement.appendChild(a.__button),a}return F(e,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),e}(Z),Pe=function(t){X(e,t);function e(i,n){I(this,e);var o=$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n));o.__color=new k(o.getValue()),o.__temp=new k(0);var a=o;o.domElement=document.createElement("div"),s.makeSelectable(o.domElement,!1),o.__selector=document.createElement("div"),o.__selector.className="selector",o.__saturation_field=document.createElement("div"),o.__saturation_field.className="saturation-field",o.__field_knob=document.createElement("div"),o.__field_knob.className="field-knob",o.__field_knob_border="2px solid ",o.__hue_knob=document.createElement("div"),o.__hue_knob.className="hue-knob",o.__hue_field=document.createElement("div"),o.__hue_field.className="hue-field",o.__input=document.createElement("input"),o.__input.type="text",o.__input_textShadow="0 1px 1px ",s.bind(o.__input,"keydown",function(g){g.keyCode===13&&f.call(this)}),s.bind(o.__input,"blur",f),s.bind(o.__selector,"mousedown",function(){s.addClass(this,"drag").bind(window,"mouseup",function(){s.removeClass(a.__selector,"drag")})}),s.bind(o.__selector,"touchstart",function(){s.addClass(this,"drag").bind(window,"touchend",function(){s.removeClass(a.__selector,"drag")})});var l=document.createElement("div");u.extend(o.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),u.extend(o.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:o.__field_knob_border+(o.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),u.extend(o.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),u.extend(o.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),u.extend(l.style,{width:"100%",height:"100%",background:"none"}),lt(l,"top","rgba(0,0,0,0)","#000"),u.extend(o.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),wn(o.__hue_field),u.extend(o.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:o.__input_textShadow+"rgba(0,0,0,0.7)"}),s.bind(o.__saturation_field,"mousedown",d),s.bind(o.__saturation_field,"touchstart",d),s.bind(o.__field_knob,"mousedown",d),s.bind(o.__field_knob,"touchstart",d),s.bind(o.__hue_field,"mousedown",c),s.bind(o.__hue_field,"touchstart",c);function d(g){v(g),s.bind(window,"mousemove",v),s.bind(window,"touchmove",v),s.bind(window,"mouseup",h),s.bind(window,"touchend",h)}function c(g){y(g),s.bind(window,"mousemove",y),s.bind(window,"touchmove",y),s.bind(window,"mouseup",m),s.bind(window,"touchend",m)}function h(){s.unbind(window,"mousemove",v),s.unbind(window,"touchmove",v),s.unbind(window,"mouseup",h),s.unbind(window,"touchend",h),b()}function m(){s.unbind(window,"mousemove",y),s.unbind(window,"touchmove",y),s.unbind(window,"mouseup",m),s.unbind(window,"touchend",m),b()}function f(){var g=ke(this.value);g!==!1?(a.__color.__state=g,a.setValue(a.__color.toOriginal())):this.value=a.__color.toString()}function b(){a.__onFinishChange&&a.__onFinishChange.call(a,a.__color.toOriginal())}o.__saturation_field.appendChild(l),o.__selector.appendChild(o.__field_knob),o.__selector.appendChild(o.__saturation_field),o.__selector.appendChild(o.__hue_field),o.__hue_field.appendChild(o.__hue_knob),o.domElement.appendChild(o.__input),o.domElement.appendChild(o.__selector),o.updateDisplay();function v(g){g.type.indexOf("touch")===-1&&g.preventDefault();var w=a.__saturation_field.getBoundingClientRect(),A=g.touches&&g.touches[0]||g,R=A.clientX,P=A.clientY,L=(R-w.left)/(w.right-w.left),_=1-(P-w.top)/(w.bottom-w.top);return _>1?_=1:_<0&&(_=0),L>1?L=1:L<0&&(L=0),a.__color.v=_,a.__color.s=L,a.setValue(a.__color.toOriginal()),!1}function y(g){g.type.indexOf("touch")===-1&&g.preventDefault();var w=a.__hue_field.getBoundingClientRect(),A=g.touches&&g.touches[0]||g,R=A.clientY,P=1-(R-w.top)/(w.bottom-w.top);return P>1?P=1:P<0&&(P=0),a.__color.h=P*360,a.setValue(a.__color.toOriginal()),!1}return o}return F(e,[{key:"updateDisplay",value:function(){var n=ke(this.getValue());if(n!==!1){var o=!1;u.each(k.COMPONENTS,function(d){if(!u.isUndefined(n[d])&&!u.isUndefined(this.__color.__state[d])&&n[d]!==this.__color.__state[d])return o=!0,{}},this),o&&u.extend(this.__color.__state,n)}u.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var a=this.__color.v<.5||this.__color.s>.5?255:0,l=255-a;u.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+a+","+a+","+a+")"}),this.__hue_knob.style.marginTop=(1-this.__color.h/360)*100+"px",this.__temp.s=1,this.__temp.v=1,lt(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),u.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+a+","+a+","+a+")",textShadow:this.__input_textShadow+"rgba("+l+","+l+","+l+",.7)"})}}]),e}(Z),yn=["-moz-","-o-","-webkit-","-ms-",""];function lt(t,e,i,n){t.style.background="",u.each(yn,function(o){t.style.cssText+="background: "+o+"linear-gradient("+e+", "+i+" 0%, "+n+" 100%); "})}function wn(t){t.style.background="",t.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",t.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var En={load:function(e,i){var n=i||document,o=n.createElement("link");o.type="text/css",o.rel="stylesheet",o.href=e,n.getElementsByTagName("head")[0].appendChild(o)},inject:function(e,i){var n=i||document,o=document.createElement("style");o.type="text/css",o.innerHTML=e;var a=n.getElementsByTagName("head")[0];try{a.appendChild(o)}catch{}}},xn=`<div id="dg-save" class="dg dialogue">

  Here's the new load parameter for your <code>GUI</code>'s constructor:

  <textarea id="dg-new-constructor"></textarea>

  <div id="dg-save-locally">

    <input id="dg-local-storage" type="checkbox"/> Automatically save
    values to <code>localStorage</code> on exit.

    <div id="dg-local-explain">The values saved to <code>localStorage</code> will
      override those passed to <code>dat.GUI</code>'s constructor. This makes it
      easier to work incrementally, but <code>localStorage</code> is fragile,
      and your friends may not see the same values you do.

    </div>

  </div>

</div>`,Cn=function(e,i){var n=e[i];return u.isArray(arguments[2])||u.isObject(arguments[2])?new gn(e,i,arguments[2]):u.isNumber(n)?u.isNumber(arguments[2])&&u.isNumber(arguments[3])?u.isNumber(arguments[4])?new Te(e,i,arguments[2],arguments[3],arguments[4]):new Te(e,i,arguments[2],arguments[3]):u.isNumber(arguments[4])?new ve(e,i,{min:arguments[2],max:arguments[3],step:arguments[4]}):new ve(e,i,{min:arguments[2],max:arguments[3]}):u.isString(n)?new bn(e,i):u.isFunction(n)?new vt(e,i,""):u.isBoolean(n)?new gt(e,i):null};function Sn(t){setTimeout(t,1e3/60)}var An=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||Sn,On=function(){function t(){I(this,t),this.backgroundElement=document.createElement("div"),u.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),s.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),u.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var e=this;s.bind(this.backgroundElement,"click",function(){e.hide()})}return F(t,[{key:"show",value:function(){var i=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),u.defer(function(){i.backgroundElement.style.opacity=1,i.domElement.style.opacity=1,i.domElement.style.webkitTransform="scale(1)"})}},{key:"hide",value:function(){var i=this,n=function o(){i.domElement.style.display="none",i.backgroundElement.style.display="none",s.unbind(i.domElement,"webkitTransitionEnd",o),s.unbind(i.domElement,"transitionend",o),s.unbind(i.domElement,"oTransitionEnd",o)};s.bind(this.domElement,"webkitTransitionEnd",n),s.bind(this.domElement,"transitionend",n),s.bind(this.domElement,"oTransitionEnd",n),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-s.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-s.getHeight(this.domElement)/2+"px"}}]),t}(),kn=fn(`.dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .cr.function .property-name{width:100%}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}
`);En.inject(kn);var dt="dg",ut=72,ct=20,he="Default",ue=function(){try{return!!window.localStorage}catch{return!1}}(),ce=void 0,ft=!0,te=void 0,Ae=!1,yt=[],E=function t(e){var i=this,n=e||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),s.addClass(this.domElement,dt),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],n=u.defaults(n,{closeOnTop:!1,autoPlace:!0,width:t.DEFAULT_WIDTH}),n=u.defaults(n,{resizable:n.autoPlace,hideable:n.autoPlace}),u.isUndefined(n.load)?n.load={preset:he}:n.preset&&(n.load.preset=n.preset),u.isUndefined(n.parent)&&n.hideable&&yt.push(this),n.resizable=u.isUndefined(n.parent)&&n.resizable,n.autoPlace&&u.isUndefined(n.scrollable)&&(n.scrollable=!0);var o=ue&&localStorage.getItem(ne(this,"isLocal"))==="true",a=void 0,l=void 0;if(Object.defineProperties(this,{parent:{get:function(){return n.parent}},scrollable:{get:function(){return n.scrollable}},autoPlace:{get:function(){return n.autoPlace}},closeOnTop:{get:function(){return n.closeOnTop}},preset:{get:function(){return i.parent?i.getRoot().preset:n.load.preset},set:function(b){i.parent?i.getRoot().preset=b:n.load.preset=b,Ln(this),i.revert()}},width:{get:function(){return n.width},set:function(b){n.width=b,Me(i,b)}},name:{get:function(){return n.name},set:function(b){n.name=b,l&&(l.innerHTML=n.name)}},closed:{get:function(){return n.closed},set:function(b){n.closed=b,n.closed?s.addClass(i.__ul,t.CLASS_CLOSED):s.removeClass(i.__ul,t.CLASS_CLOSED),this.onResize(),i.__closeButton&&(i.__closeButton.innerHTML=b?t.TEXT_OPEN:t.TEXT_CLOSED)}},load:{get:function(){return n.load}},useLocalStorage:{get:function(){return o},set:function(b){ue&&(o=b,b?s.bind(window,"unload",a):s.unbind(window,"unload",a),localStorage.setItem(ne(i,"isLocal"),b))}}}),u.isUndefined(n.parent)){if(this.closed=n.closed||!1,s.addClass(this.domElement,t.CLASS_MAIN),s.makeSelectable(this.domElement,!1),ue&&o){i.useLocalStorage=!0;var d=localStorage.getItem(ne(this,"gui"));d&&(n.load=JSON.parse(d))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=t.TEXT_CLOSED,s.addClass(this.__closeButton,t.CLASS_CLOSE_BUTTON),n.closeOnTop?(s.addClass(this.__closeButton,t.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(s.addClass(this.__closeButton,t.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),s.bind(this.__closeButton,"click",function(){i.closed=!i.closed})}else{n.closed===void 0&&(n.closed=!0);var c=document.createTextNode(n.name);s.addClass(c,"controller-name"),l=Fe(i,c);var h=function(b){return b.preventDefault(),i.closed=!i.closed,!1};s.addClass(this.__ul,t.CLASS_CLOSED),s.addClass(l,"title"),s.bind(l,"click",h),n.closed||(this.closed=!1)}n.autoPlace&&(u.isUndefined(n.parent)&&(ft&&(te=document.createElement("div"),s.addClass(te,dt),s.addClass(te,t.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(te),ft=!1),te.appendChild(this.domElement),s.addClass(this.domElement,t.CLASS_AUTO_PLACE)),this.parent||Me(i,n.width)),this.__resizeHandler=function(){i.onResizeDebounced()},s.bind(window,"resize",this.__resizeHandler),s.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),s.bind(this.__ul,"transitionend",this.__resizeHandler),s.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),n.resizable&&Rn(this),a=function(){ue&&localStorage.getItem(ne(i,"isLocal"))==="true"&&localStorage.setItem(ne(i,"gui"),JSON.stringify(i.getSaveObject()))},this.saveToLocalStorageIfPossible=a;function m(){var f=i.getRoot();f.width+=1,u.defer(function(){f.width-=1})}n.parent||m()};E.toggleHide=function(){Ae=!Ae,u.each(yt,function(t){t.domElement.style.display=Ae?"none":""})};E.CLASS_AUTO_PLACE="a";E.CLASS_AUTO_PLACE_CONTAINER="ac";E.CLASS_MAIN="main";E.CLASS_CONTROLLER_ROW="cr";E.CLASS_TOO_TALL="taller-than-window";E.CLASS_CLOSED="closed";E.CLASS_CLOSE_BUTTON="close-button";E.CLASS_CLOSE_TOP="close-top";E.CLASS_CLOSE_BOTTOM="close-bottom";E.CLASS_DRAG="drag";E.DEFAULT_WIDTH=245;E.TEXT_CLOSED="Close Controls";E.TEXT_OPEN="Open Controls";E._keydownHandler=function(t){document.activeElement.type!=="text"&&(t.which===ut||t.keyCode===ut)&&E.toggleHide()};s.bind(window,"keydown",E._keydownHandler,!1);u.extend(E.prototype,{add:function(e,i){return fe(this,e,i,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,i){return fe(this,e,i,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.splice(this.__controllers.indexOf(e),1);var i=this;u.defer(function(){i.onResize()})},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&te.removeChild(this.domElement);var e=this;u.each(this.__folders,function(i){e.removeFolder(i)}),s.unbind(window,"keydown",E._keydownHandler,!1),ht(this)},addFolder:function(e){if(this.__folders[e]!==void 0)throw new Error('You already have a folder in this GUI by the name "'+e+'"');var i={name:e,parent:this};i.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(i.closed=this.load.folders[e].closed,i.load=this.load.folders[e]);var n=new E(i);this.__folders[e]=n;var o=Fe(this,n.domElement);return s.addClass(o,"folder"),n},removeFolder:function(e){this.__ul.removeChild(e.domElement.parentElement),delete this.__folders[e.name],this.load&&this.load.folders&&this.load.folders[e.name]&&delete this.load.folders[e.name],ht(e);var i=this;u.each(e.__folders,function(n){e.removeFolder(n)}),u.defer(function(){i.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var e=this.getRoot();if(e.scrollable){var i=s.getOffset(e.__ul).top,n=0;u.each(e.__ul.childNodes,function(o){e.autoPlace&&o===e.__save_row||(n+=s.getHeight(o))}),window.innerHeight-i-ct<n?(s.addClass(e.domElement,E.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-i-ct+"px"):(s.removeClass(e.domElement,E.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&u.defer(function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"}),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},onResizeDebounced:u.debounce(function(){this.onResize()},50),remember:function(){if(u.isUndefined(ce)&&(ce=new On,ce.domElement.innerHTML=xn),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;u.each(Array.prototype.slice.call(arguments),function(i){e.__rememberedObjects.length===0&&Pn(e),e.__rememberedObjects.indexOf(i)===-1&&e.__rememberedObjects.push(i)}),this.autoPlace&&Me(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=me(this)),e.folders={},u.each(this.__folders,function(i,n){e.folders[n]=i.getSaveObject()}),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=me(this),Re(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[he]=me(this,!0)),this.load.remembered[e]=me(this),this.preset=e,Le(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){u.each(this.__controllers,function(i){this.getRoot().load.remembered?wt(e||this.getRoot(),i):i.setValue(i.initialValue),i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())},this),u.each(this.__folders,function(i){i.revert(i)}),e||Re(this.getRoot(),!1)},listen:function(e){var i=this.__listening.length===0;this.__listening.push(e),i&&Et(this.__listening)},updateDisplay:function(){u.each(this.__controllers,function(e){e.updateDisplay()}),u.each(this.__folders,function(e){e.updateDisplay()})}});function Fe(t,e,i){var n=document.createElement("li");return e&&n.appendChild(e),i?t.__ul.insertBefore(n,i):t.__ul.appendChild(n),t.onResize(),n}function ht(t){s.unbind(window,"resize",t.__resizeHandler),t.saveToLocalStorageIfPossible&&s.unbind(window,"unload",t.saveToLocalStorageIfPossible)}function Re(t,e){var i=t.__preset_select[t.__preset_select.selectedIndex];e?i.innerHTML=i.value+"*":i.innerHTML=i.value}function Tn(t,e,i){if(i.__li=e,i.__gui=t,u.extend(i,{options:function(l){if(arguments.length>1){var d=i.__li.nextElementSibling;return i.remove(),fe(t,i.object,i.property,{before:d,factoryArgs:[u.toArray(arguments)]})}if(u.isArray(l)||u.isObject(l)){var c=i.__li.nextElementSibling;return i.remove(),fe(t,i.object,i.property,{before:c,factoryArgs:[l]})}},name:function(l){return i.__li.firstElementChild.firstElementChild.innerHTML=l,i},listen:function(){return i.__gui.listen(i),i},remove:function(){return i.__gui.remove(i),i}}),i instanceof Te){var n=new ve(i.object,i.property,{min:i.__min,max:i.__max,step:i.__step});u.each(["updateDisplay","onChange","onFinishChange","step","min","max"],function(a){var l=i[a],d=n[a];i[a]=n[a]=function(){var c=Array.prototype.slice.call(arguments);return d.apply(n,c),l.apply(i,c)}}),s.addClass(e,"has-slider"),i.domElement.insertBefore(n.domElement,i.domElement.firstElementChild)}else if(i instanceof ve){var o=function(l){if(u.isNumber(i.__min)&&u.isNumber(i.__max)){var d=i.__li.firstElementChild.firstElementChild.innerHTML,c=i.__gui.__listening.indexOf(i)>-1;i.remove();var h=fe(t,i.object,i.property,{before:i.__li.nextElementSibling,factoryArgs:[i.__min,i.__max,i.__step]});return h.name(d),c&&h.listen(),h}return l};i.min=u.compose(o,i.min),i.max=u.compose(o,i.max)}else i instanceof gt?(s.bind(e,"click",function(){s.fakeEvent(i.__checkbox,"click")}),s.bind(i.__checkbox,"click",function(a){a.stopPropagation()})):i instanceof vt?(s.bind(e,"click",function(){s.fakeEvent(i.__button,"click")}),s.bind(e,"mouseover",function(){s.addClass(i.__button,"hover")}),s.bind(e,"mouseout",function(){s.removeClass(i.__button,"hover")})):i instanceof Pe&&(s.addClass(e,"color"),i.updateDisplay=u.compose(function(a){return e.style.borderLeftColor=i.__color.toString(),a},i.updateDisplay),i.updateDisplay());i.setValue=u.compose(function(a){return t.getRoot().__preset_select&&i.isModified()&&Re(t.getRoot(),!0),a},i.setValue)}function wt(t,e){var i=t.getRoot(),n=i.__rememberedObjects.indexOf(e.object);if(n!==-1){var o=i.__rememberedObjectIndecesToControllers[n];if(o===void 0&&(o={},i.__rememberedObjectIndecesToControllers[n]=o),o[e.property]=e,i.load&&i.load.remembered){var a=i.load.remembered,l=void 0;if(a[t.preset])l=a[t.preset];else if(a[he])l=a[he];else return;if(l[n]&&l[n][e.property]!==void 0){var d=l[n][e.property];e.initialValue=d,e.setValue(d)}}}}function fe(t,e,i,n){if(e[i]===void 0)throw new Error('Object "'+e+'" has no property "'+i+'"');var o=void 0;if(n.color)o=new Pe(e,i);else{var a=[e,i].concat(n.factoryArgs);o=Cn.apply(t,a)}n.before instanceof Z&&(n.before=n.before.__li),wt(t,o),s.addClass(o.domElement,"c");var l=document.createElement("span");s.addClass(l,"property-name"),l.innerHTML=o.property;var d=document.createElement("div");d.appendChild(l),d.appendChild(o.domElement);var c=Fe(t,d,n.before);return s.addClass(c,E.CLASS_CONTROLLER_ROW),o instanceof Pe?s.addClass(c,"color"):s.addClass(c,_n(o.getValue())),Tn(t,c,o),t.__controllers.push(o),o}function ne(t,e){return document.location.href+"."+e}function Le(t,e,i){var n=document.createElement("option");n.innerHTML=e,n.value=e,t.__preset_select.appendChild(n),i&&(t.__preset_select.selectedIndex=t.__preset_select.length-1)}function _t(t,e){e.style.display=t.useLocalStorage?"block":"none"}function Pn(t){var e=t.__save_row=document.createElement("li");s.addClass(t.domElement,"has-save"),t.__ul.insertBefore(e,t.__ul.firstChild),s.addClass(e,"save-row");var i=document.createElement("span");i.innerHTML="&nbsp;",s.addClass(i,"button gears");var n=document.createElement("span");n.innerHTML="Save",s.addClass(n,"button"),s.addClass(n,"save");var o=document.createElement("span");o.innerHTML="New",s.addClass(o,"button"),s.addClass(o,"save-as");var a=document.createElement("span");a.innerHTML="Revert",s.addClass(a,"button"),s.addClass(a,"revert");var l=t.__preset_select=document.createElement("select");if(t.load&&t.load.remembered?u.each(t.load.remembered,function(f,b){Le(t,b,b===t.preset)}):Le(t,he,!1),s.bind(l,"change",function(){for(var f=0;f<t.__preset_select.length;f++)t.__preset_select[f].innerHTML=t.__preset_select[f].value;t.preset=this.value}),e.appendChild(l),e.appendChild(i),e.appendChild(n),e.appendChild(o),e.appendChild(a),ue){var d=document.getElementById("dg-local-explain"),c=document.getElementById("dg-local-storage"),h=document.getElementById("dg-save-locally");h.style.display="block",localStorage.getItem(ne(t,"isLocal"))==="true"&&c.setAttribute("checked","checked"),_t(t,d),s.bind(c,"change",function(){t.useLocalStorage=!t.useLocalStorage,_t(t,d)})}var m=document.getElementById("dg-new-constructor");s.bind(m,"keydown",function(f){f.metaKey&&(f.which===67||f.keyCode===67)&&ce.hide()}),s.bind(i,"click",function(){m.innerHTML=JSON.stringify(t.getSaveObject(),void 0,2),ce.show(),m.focus(),m.select()}),s.bind(n,"click",function(){t.save()}),s.bind(o,"click",function(){var f=prompt("Enter a new preset name.");f&&t.saveAs(f)}),s.bind(a,"click",function(){t.revert()})}function Rn(t){var e=void 0;t.__resize_handle=document.createElement("div"),u.extend(t.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});function i(a){return a.preventDefault(),t.width+=e-a.clientX,t.onResize(),e=a.clientX,!1}function n(){s.removeClass(t.__closeButton,E.CLASS_DRAG),s.unbind(window,"mousemove",i),s.unbind(window,"mouseup",n)}function o(a){return a.preventDefault(),e=a.clientX,s.addClass(t.__closeButton,E.CLASS_DRAG),s.bind(window,"mousemove",i),s.bind(window,"mouseup",n),!1}s.bind(t.__resize_handle,"mousedown",o),s.bind(t.__closeButton,"mousedown",o),t.domElement.insertBefore(t.__resize_handle,t.domElement.firstElementChild)}function Me(t,e){t.domElement.style.width=e+"px",t.__save_row&&t.autoPlace&&(t.__save_row.style.width=e+"px"),t.__closeButton&&(t.__closeButton.style.width=e+"px")}function me(t,e){var i={};return u.each(t.__rememberedObjects,function(n,o){var a={},l=t.__rememberedObjectIndecesToControllers[o];u.each(l,function(d,c){a[c]=e?d.initialValue:d.getValue()}),i[o]=a}),i}function Ln(t){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].value===t.preset&&(t.__preset_select.selectedIndex=e)}function Et(t){t.length!==0&&An.call(window,function(){Et(t)}),u.each(t,function(e){e.updateDisplay()})}var Mn=E;const Dn=ge("h2",null,"Jeon Jai",-1),Nn=ge("p",{class:"main-content fs-40 no-select"},"Jai's ThreeJS study project",-1),Hn=Wt({__name:"Home",setup(t){const{proxy:e}=tn(),i=new Mn,n={plane:{width:400,height:400,widthSegments:50,heightSegments:50}};i.add(n.plane,"width",1,500).onChange(o),i.add(n.plane,"height",1,500).onChange(o),i.add(n.plane,"widthSegments",1,100).onChange(o),i.add(n.plane,"heightSegments",1,100).onChange(o);function o(){v.geometry.dispose(),v.geometry=new et(n.plane.width,n.plane.height,n.plane.widthSegments,n.plane.heightSegments),g()}const a=Zt(),l=new zt,d=new jt,c=new Ut(75,innerWidth/innerHeight,.1,1e3),h=new Vt({antialias:!0});h.setSize(innerWidth,innerHeight),h.setPixelRatio(devicePixelRatio),c.position.z=50;const m=new cn(c,h.domElement);m.autoRotate=!0,m.minDistance=4,m.maxDistance=200;const f=new tt(16777215,1);f.position.set(0,1,1),d.add(f);const b=new tt(16777215,1);b.position.set(0,-1,-1),d.add(b);let v;function y(){const _=new et(n.plane.width,n.plane.height,n.plane.widthSegments,n.plane.heightSegments),x=new Yt({side:Xt,flatShading:!0,vertexColors:!0});v=new $t(_,x),g(),d.add(v)}function g(){const _=[],{array:x}=v.geometry.attributes.position;for(let[S,C]of x.entries()){if(S%3===0){const D=x[S],Q=x[S+1],j=x[S+2];x[S]=D+(Math.random()-.5)*3,x[S+1]=Q+(Math.random()-.5)*3,x[S+2]=j+(Math.random()-.5)*10}_.push(Math.random()*Math.PI*2)}v.geometry.attributes.position.randomValues=_,v.geometry.attributes.position.originalPosition=x;const K=[];for(let S=0;S<v.geometry.attributes.position.count;S++)K.push(0,.19,.4);v.geometry.setAttribute("color",new Gt(new Float32Array(K),3))}const w={x:-999,y:-999};let A=0;function R(){Ce.update(),requestAnimationFrame(R),h.render(d,c),l.setFromCamera(w,c),A+=.01;const{array:_,originalPosition:x,randomValues:K}=v.geometry.attributes.position;for(let C=0;C<_.length;C+=3)_[C]=x[C]+Math.cos(A+K[C])*.01,_[C+1]=x[C+1]+Math.sin(A+K[C+1])*.01;v.geometry.attributes.position.needsUpdate=!0;const S=l.intersectObject(v);if(S.length>0){const{color:C}=S[0].object.geometry.attributes,{face:D}=S[0];for(let M of["a","b","c"])C.set(D[M],.1,.5,1);C.needsUpdate=!0;const Q={r:0,g:.19,b:.4},j={r:.1,g:.5,b:1};Kt.to(j,{...Q,onUpdate:()=>{for(let M of["a","b","c"])C.setX(D[M],j.r),C.setY(D[M],j.g),C.setZ(D[M],j.b);C.needsUpdate=!0}})}}addEventListener("mousemove",_=>{w.x=_.clientX/innerWidth*2-1,w.y=-(_.clientY/innerHeight)*2+1});function P(){c.aspect=innerWidth/innerHeight,c.updateProjectionMatrix(),h.setSize(innerWidth,innerHeight)}function L(){let _={x:c.position.x,y:c.position.y,z:c.position.z},x={x:0,y:0,z:50};new Ce.Tween(_).to(x,600).easing(Ce.Easing.Linear.None).onUpdate(()=>{c.position.lerp(x,.1),m.update(),m.target=new G(0,0,0)}).onComplete(()=>{e==null||e.$router.push("/earth")}).start()}return Qt(async()=>{i.open(),a.value.appendChild(h.domElement),await y(),R(),addEventListener("resize",P)}),qt(()=>{i.destroy()}),(_,x)=>(en(),Jt("div",{ref_key:"canvas",ref:a,class:"canvas-container"},[ge("div",{class:"content-container text-white no-select"},[Dn,Nn,ge("button",{class:"view-btn",onClick:L},"VIEW EARTH")])],512))}});export{Hn as default};
